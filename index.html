<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coeziv 3.14 — Motor de analiză informațională </title>
  <style>
    body {
      background: #0d1117;
      color: #e6edf3;
      font-family: "Segoe UI", sans-serif;
      text-align: center;
      margin: 0;
      padding: 1em;
    }
    h1 {
      color: #00ffb7;
      margin-bottom: 0.1em;
    }
    p {
      color: #9ba1a6;
      margin-top: 0;
    }
    textarea {
      width: 95%;
      max-width: 650px;
      height: 180px;
      background: #161b22;
      color: #c9d1d9;
      border: 1px solid #30363d;
      border-radius: 10px;
      padding: 1em;
      font-size: 1em;
      resize: none;
    }
    button {
      margin-top: 1em;
      background: #00ffb7;
      color: #000;
      border: none;
      border-radius: 8px;
      padding: 0.8em 1.6em;
      cursor: pointer;
      font-weight: bold;
      font-size: 1em;
      transition: background 0.2s;
    }
    button:hover {
      background: #00cc8f;
    }
    .result {
      margin: 1.5em auto;
      width: 95%;
      max-width: 700px;
      background: #161b22;
      padding: 1.5em;
      border-radius: 12px;
      border: 1px solid #30363d;
      text-align: left;
      line-height: 1.5;
      white-space: pre-wrap;
    }
    canvas {
      margin-top: 1em;
      background: #0d1117;
    }
    .verdict-bar {
      margin: 1em auto;
      width: 90%;
      max-width: 500px;
      height: 25px;
      border-radius: 10px;
      transition: background 0.5s;
    }
    .legend {
      margin-top: 0.6em;
      color: #aaa;
      font-size: 0.9em;
    }
    footer {
      margin-top: 1em;
      color: #777;
      font-size: 0.9em;
      .badge {
  background-color: #00ffb7;
  color: #0d1117;
  font-size: 0.7em;
  font-weight: bold;
  padding: 2px 5px;
  border-radius: 6px;
  margin-right: 5px;
}
.badge.gray {
  background-color: #444;
  color: #bbb;
}
.source-item {
  margin: 4px 0;
  animation: fadeIn 0.6s ease-in;
}
    }
  </style>
</head>
<body>
  <h1>Coeziv 3.14</h1>
  <p>Motor de analiză informațională</p>

  <textarea id="textInput" placeholder="Introdu textul pentru analiză..."></textarea>
  <br />
  <button id="analyzeBtn">Analizează</button>

  <div class="result" id="result">Aici vor apărea rezultatele...</div>
  <!-- 🔗 Surse găsite automat -->
<div id="sources" class="sources"></div>
  <div class="verdict-bar" id="verdictBar"></div>
  <canvas id="chart" width="320" height="180"></canvas>

  <div class="legend">
    ✅ Verde = Veridic / Coeziv | ⚠️ Galben = Ambiguu / incert | 🔴 Roșu = Fals / Manipulator
  </div>
<!-- 🧠 Legendă formula Coeziv 3.14 -->
<div class="legend-container" style="margin-top:1.5rem; padding:1rem; background:#0d1117; border:1px solid #1f2937; border-radius:12px; font-family:'Segoe UI',sans-serif; color:#d1d5db;">
  <h3 style="font-size:1rem; color:#22d3ee; margin-bottom:0.5rem;">🧭 Interpretarea Formulei 3.14Δ</h3>
  <ul style="list-style:none; margin:0; padding:0; line-height:1.6;">
    <li>🟩 <b>Fc (Coeziune logică)</b> — măsoară stabilitatea internă a informației, consistența logică și claritatea gramaticală.</li>
    <li>🟨 <b>Δ (Vibrație semantică)</b> — reprezintă activitatea informațională neutră, adică variațiile naturale de sens și ton, fără intenție de manipulare.</li>
    <li>🟥 <b>Manipulare (%)</b> — indică tendința de distorsionare sau dezechilibru al mesajului, intenționat sau emoțional.</li>
  </ul>
  <p style="font-size:0.85rem; color:#9ca3af; margin-top:0.6rem;">
    🔹 <b>Notă:</b> Culoarea galbenă (<b>Δ</b>) nu semnifică eroare — ci doar vibrația vie a informației, adică faptul că textul transmite sens activ, nu static.
  </p>
</div>
  <footer>© 2025 Coeziv 3.14 </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
<script>
document.getElementById("analyzeBtn").addEventListener("click", async () => {
  const text = document.getElementById("textInput").value.trim();
  const resultDiv = document.getElementById("result");
  const verdictBar = document.getElementById("verdictBar");

  if (!text) {
    resultDiv.textContent = "⚠️ Introdu un text pentru analiză.";
    return;
  }

  resultDiv.textContent = "⏳ Analiză în curs...";
  verdictBar.style.background = "#444";

  try {
    const response = await fetch("/api/analyze-web", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ textDeAnalizat: text }),
    });

    const data = await response.json(); // ✅ important!

    if (data.success) {
      const r = data.rezultat;

      // 🔗 surse clickabile
      const surseHTML = (r.surse || [])
        .map(
          (s, i) =>
            `<a href="${s.url}" target="_blank" rel="noopener noreferrer"
               style="display:block;color:#00ffb7;text-decoration:none;
                      margin:4px 0;border-left:2px solid #00ffb7;padding-left:6px;">
               🌐 ${s.title || s.url}
             </a>`
        )
        .join("");

      resultDiv.innerHTML = `
        <div style="white-space:pre-line">${r.text}</div>
        ${surseHTML ? `<div><b>Surse:</b><br>${surseHTML}</div>` : ""}
      `;
      verdictBar.style.background = "#00ffb7";
    } else {
      resultDiv.textContent = "❌ Eroare API";
      verdictBar.style.background = "#ff0055";
    }
  } catch (err) {
    console.error(err);
    resultDiv.textContent = `❌ Eroare: ${err.message}`;
    verdictBar.style.background = "#ff0055";
  }
});
</script>
</body>
</html>










