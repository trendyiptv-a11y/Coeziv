<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculator Coeziune ApÄƒ 3.14 â€“ ApÄƒ purÄƒ & apÄƒ celularÄƒ</title>
<style>
:root {
  --accent:#c98000;
  --bg:#fff8e5;
  --panel:#fffef9;
  --text:#332200;
}
body{
  font-family:'Segoe UI',sans-serif;
  margin:0;
  padding:0;
  background:var(--bg);
  color:var(--text);
}
.container{
  max-width:900px;
  margin:auto;
  padding:16px;
}
h1,h2{
  text-align:center;
  color:var(--accent);
}
h1{font-size:1.7em;margin:10px 0;}
h2{font-size:1.3em;margin:16px 0;}
p{text-align:justify;line-height:1.5;}
.section{
  background:var(--panel);
  border-radius:12px;
  padding:16px;
  margin:16px 0;
  box-shadow:0 0 8px rgba(0,0,0,0.08);
}
label{display:block;margin:6px 0 2px;}
input,select{
  width:100%;
  max-width:220px;
  padding:6px;
  border:1px solid #ddd;
  border-radius:6px;
}
button{
  background:var(--accent);
  color:white;
  border:none;
  border-radius:6px;
  padding:8px 14px;
  margin-top:10px;
  cursor:pointer;
}
button:hover{background:#a56500;}
.result{
  margin-top:10px;
  font-size:0.95em;
  background:#fff3d6;
  border-radius:8px;
  padding:10px;
}
.small{font-size:0.86em;color:#555;}
.symbol{text-align:center;font-size:3em;color:var(--accent);}
@media (max-width:600px){
  h1{font-size:1.4em;}
  h2{font-size:1.1em;}
  .section{padding:12px;}
}
</style>
</head>
<body>
<div class="container">
  <h1>Calculator Coeziune ApÄƒ 3.14</h1>
  <div class="symbol">ğŸ’§</div>

  <div class="section">
    <h2>Mediu: apÄƒ purÄƒ vs apÄƒ celularÄƒ</h2>
    <p class="small">
      Baza fizicÄƒ a formulei este <b>apa lichidÄƒ</b>. Ãn celule, Ã®n sÃ¢nge È™i Ã®n lichidul
      interstiÈ›ial, mediul dominant este tot apa (â‰ˆ70%volum,â‰ˆ99.8%molecule), iar coeziunea fundamentalÄƒ este
      datÄƒ de reÈ›eaua de legÄƒturi Oâ€“H. Ãn acest calculator:
    </p>
    <ul class="small">
      <li><b>ApÄƒ purÄƒ</b> â€“ foloseÈ™te densitatea È™i autoionizarea apei curate (model IAPWS &amp; pK<sub>w</sub> aprox.).</li>
      <li><b>ApÄƒ celularÄƒ (0,9% salinÄƒ)</b> â€“ aceeaÈ™i apÄƒ, dar cu o micÄƒ corecÈ›ie pentru ser fiziologic
          (densitate uÈ™or crescutÄƒ, mai mulÈ›i ioni mobili). Este un model simplificat, nu un substitut
          pentru mÄƒsurÄƒtori directe in vitro.</li>
    </ul>
    <p class="small">
      Ideea: formula È™i calculatorul sunt gÃ¢ndite ca model numeric pentru <b>apa din È™i din jurul celulei</b>.
      Pentru alte medii (texte, societÄƒÈ›i, tehnologii), se pÄƒstreazÄƒ <i>structura</i> formulei
      (N, nâ‚‘, E, r), dar sensul lor se schimbÄƒ.
    </p>

    <label for="medium">Alege mediul de calcul</label>
    <select id="medium">
      <option value="pure">ApÄƒ purÄƒ</option>
      <option value="cell">ApÄƒ celularÄƒ (0,9% salinÄƒ)</option>
    </select>
  </div>

  <!-- MOD 1: O SINGURÄ‚ STARE -->
  <div class="section">
    <h2>Mod 1 â€“ Coeziune pentru o singurÄƒ temperaturÄƒ</h2>
    <p class="small">
      Introdu temperatura apei. Calculatorul foloseÈ™te relaÈ›ii fizice aproximative pentru apÄƒ
      (densitate, autoionizare, energie vibraÈ›ionalÄƒ Oâ€“H, distanÈ›Äƒ medie Ã®ntre molecule)
      È™i calculeazÄƒ:
      <b>C(T) = N Â· nâ‚‘ Â· E / rÂ²</b>.
      FÄƒrÄƒ coeficienÈ›i arbitrar introduÈ™i â€“ doar relaÈ›ii fizice pentru mediul ales.
    </p>

    <label for="T1">Temperatura T (Â°C) â€“ interval recomandat: 0â€“60 Â°C</label>
    <input type="number" id="T1" value="25" step="0.1">

    <button id="calcSingle">CalculeazÄƒ C(T)</button>

    <div id="singleResult" class="result"></div>
  </div>

  <!-- MOD 2: DOUÄ‚ STÄ‚RI, RAPORT 3.14 -->
  <div class="section">
    <h2>Mod 2 â€“ Raport de coeziune Ã®ntre douÄƒ temperaturi (test 3.14)</h2>
    <p class="small">
      Alege douÄƒ temperaturi ale apei (de exemplu 25 Â°C È™i 43 Â°C, sau 37 Â°C È™i 43 Â°C).
      Calculatorul genereazÄƒ Câ‚ È™i Câ‚‚ pentru mediul ales È™i calculeazÄƒ
      raportul <b>R = Câ‚‚/Câ‚</b>. DacÄƒ R â‰ˆ 3,14, sistemul este aproape de
      <b>echilibrul coeziv optim</b> Ã®ntre o stare biologicÄƒ stabilÄƒ È™i echilibrul termodinamic.
    </p>

    <label for="T2a">Temperatura Tâ‚ (Â°C)</label>
    <input type="number" id="T2a" value="25" step="0.1">

    <label for="T2b">Temperatura Tâ‚‚ (Â°C)</label>
    <input type="number" id="T2b" value="43" step="0.1">

    <button id="calcRatio">CalculeazÄƒ raportul Câ‚‚ / Câ‚</button>

    <div id="ratioResult" class="result"></div>
  </div>

  <p class="small">
    âš ï¸ NotÄƒ: modelele pentru densitate È™i pK<sub>w</sub> sunt aproximative, dar fizic rezonabile
    pe intervalul 0â€“60 Â°C. Pentru cercetare de laborator riguroasÄƒ, se recomandÄƒ folosirea
    datelor IAPWS-95 È™i a mÄƒsurÄƒtorilor directe de conductivitate È™i spectroscopie IR.
  </p>
</div>
 <a href="/document/index.html" class="back">â† Ãnapoi la arhivÄƒ</a>
<script>
// constante fizice
const NA = 6.02214076e23;      // numÄƒr Avogadro [1/mol]
const M  = 18.01528e-3;        // masa molarÄƒ apÄƒ [kg/mol]
const eV = 1.60217663e-19;     // 1 eV Ã®n Jouli
const E0 = 0.46 * eV;          // energie vibraÈ›ionalÄƒ Oâ€“H ~0.46 eV la ~25 Â°C

// densitatea apei [kg/mÂ³] Ã®n funcÈ›ie de T (Â°C) pentru apÄƒ purÄƒ
// aproximare simplÄƒ, nu coeficient "magical", ci fit fizic grosier 0â€“60 Â°C
function rhoPure(T){
  const d = 999.84 - 0.07*(T-4) - 0.002*(T-4)*(T-4);
  return d;
}

// densitate pentru apÄƒ celularÄƒ (ser fiziologic ~0,9% NaCl)
// densitatea serului fiziologic e uÈ™or mai mare decÃ¢t a apei pure (~+0.5â€“1%)
// folosim un factor simplu, explicit marcat ca aproximaÈ›ie
function rhoCell(T){
  return rhoPure(T) * 1.005;  // +0.5% faÈ›Äƒ de apa purÄƒ
}

// pKw(T) aproximativ pentru apÄƒ purÄƒ (scÄƒdere cu T)
function pKwPure(T){
  return 14.94 - 0.047*T;   // aprox. literaturÄƒ 0â€“60 Â°C
}

// pKw efectiv pentru apÄƒ celularÄƒ: prezenÈ›a ionilor "suplini" autoionizarea
// aici modelÄƒm un pKw efectiv uÈ™or mai mic (mai mulÈ›i ioni disponibili)
function pKwCell(T){
  return pKwPure(T) - 0.1;  // micÄƒ corecÈ›ie simbolicÄƒ pentru mediul salin
}

// densitate & pKw Ã®n funcÈ›ie de mediul ales
function rhoOfT(T, medium){
  return (medium === "cell") ? rhoCell(T) : rhoPure(T);
}
function pKwOfT(T, medium){
  return (medium === "cell") ? pKwCell(T) : pKwPure(T);
}

// calculeazÄƒ proprietÄƒÈ›ile apei/mediului la temperatura T (Â°C)
function propsMedium(Tc, medium){
  const T = Tc;
  const TK = T + 273.15;
  const rho = rhoOfT(T, medium);           // densitate [kg/mÂ³]

  // N_H2O â€“ densitate molecularÄƒ [molecule/mÂ³]
  const N = rho * NA / M;

  // distanÈ›a medie Ã®ntre molecule r ~ (M / (rho * NA))^(1/3)
  const r = Math.pow(M/(rho*NA), 1/3); // [m]

  // energie vibraÈ›ionalÄƒ E(T) ~ scade uÈ™or cu temperatura
  const E = E0 * (1 - 1.5e-4*(TK - 298)); // [J]

  // autoionizare â†’ pKw(T) (sau pKw efectiv Ã®n mediul salin)
  const pKw = pKwOfT(T, medium);
  const nIon = 1000 * Math.pow(10, -pKw/2) * NA; // [ioni/mÂ³]
  const ne = 2 * nIon; // 2 electroni mobili per pereche H+/OH-

  // coeziune: C = N * ne * E / rÂ²
  const C = N * ne * E / (r*r);

  return {T, TK, rho, N, r, E, pKw, ne, C};
}

// format numÄƒr È™tiinÈ›ific
function sci(x){
  if(!isFinite(x) || x===0) return x.toString();
  const e = x.toExponential(2).split('e');
  return e[0] + ' Ã— 10^' + parseInt(e[1],10);
}

// Mod 1 â€“ o singurÄƒ stare
document.getElementById('calcSingle').onclick = () => {
  const T = parseFloat(document.getElementById('T1').value);
  const medium = document.getElementById('medium').value;
  if (isNaN(T)) {
    document.getElementById('singleResult').innerText = "Introdu o temperaturÄƒ validÄƒ.";
    return;
  }
  const p = propsMedium(T, medium);
  const tip = (medium === "cell") ? "apÄƒ celularÄƒ (0,9% salinÄƒ)" : "apÄƒ purÄƒ";
  document.getElementById('singleResult').innerHTML =
    `<b>Rezultate pentru ${tip} la T = ${p.T.toFixed(1)} Â°C</b><br>
    Ï (densitate) â‰ˆ ${p.rho.toFixed(2)} kg/mÂ³<br>
    N_Hâ‚‚O â‰ˆ ${sci(p.N)} molecule/mÂ³<br>
    r (distanÈ›Äƒ medie) â‰ˆ ${(p.r*1e10).toFixed(2)} Ã…<br>
    E (energie vibraÈ›ionalÄƒ) â‰ˆ ${p.E.toExponential(3)} J<br>
    pK<sub>w,ef</sub> â‰ˆ ${p.pKw.toFixed(2)}<br>
    nâ‚‘ (electroni mobili) â‰ˆ ${sci(p.ne)} 1/mÂ³<br>
    <b>C(T) â‰ˆ ${sci(p.C)} (unitÄƒÈ›i J/mÂ³ scalate)</b><br>
    <span class="small">C(T) este indicele de coeziune internÄƒ al mediului la aceastÄƒ temperaturÄƒ.</span>`;
};

// Mod 2 â€“ douÄƒ stÄƒri, raport 3.14
document.getElementById('calcRatio').onclick = () => {
  const T1 = parseFloat(document.getElementById('T2a').value);
  const T2 = parseFloat(document.getElementById('T2b').value);
  const medium = document.getElementById('medium').value;
  if (isNaN(T1) || isNaN(T2)) {
    document.getElementById('ratioResult').innerText = "Introdu ambele temperaturi.";
    return;
  }
  const p1 = propsMedium(T1, medium);
  const p2 = propsMedium(T2, medium);
  const R  = p2.C / p1.C;
  const pi = Math.PI;
  const diff = Math.abs(R - pi);
  const rel = diff / pi;

  let mesaj;
  if (rel < 0.1) {
    mesaj = "âš–ï¸ Sistemul este foarte aproape de echilibrul coeziv 3.14 pentru acest mediu.";
  } else if (rel < 0.3) {
    mesaj = "â„¹ï¸ Sistemul se apropie de regimul 3.14, dar nu este exact Ã®n echilibru coeziv.";
  } else {
    mesaj = "âŒ Sistemul este departe de raportul coeziv 3.14 (mai degrabÄƒ rigid sau instabil).";
  }

  const tip = (medium === "cell") ? "apÄƒ celularÄƒ (0,9% salinÄƒ)" : "apÄƒ purÄƒ";

  document.getElementById('ratioResult').innerHTML =
    `<b>Rezultate pentru ${tip} la Tâ‚ = ${p1.T.toFixed(1)} Â°C È™i Tâ‚‚ = ${p2.T.toFixed(1)} Â°C</b><br>
    Câ‚(Tâ‚) â‰ˆ ${sci(p1.C)}<br>
    Câ‚‚(Tâ‚‚) â‰ˆ ${sci(p2.C)}<br>
    <b>Raport R = Câ‚‚ / Câ‚ â‰ˆ ${R.toFixed(3)}</b><br>
    Ï€ â‰ˆ ${pi.toFixed(5)} â†’ |R - Ï€| â‰ˆ ${diff.toFixed(3)} (abatere relativÄƒ ${(rel*100).toFixed(1)}%)<br>
    ${mesaj}`;
};
</script>
</body>
</html>
