<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calculator impozit pe clădire (PF) – România 2026</title>
  <style>
    :root { --gap: 12px; --b: #d0d7de; --bg: #f6f8fa; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #fff; color: #111; }
    header { padding: 18px 20px; border-bottom: 1px solid var(--b); background: var(--bg); }
    main { max-width: 980px; margin: 0 auto; padding: 20px; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--gap); }
    @media (max-width: 860px) { .grid { grid-template-columns: 1fr; } }
    .card { border: 1px solid var(--b); border-radius: 10px; padding: 14px; }
    .card h2 { margin: 0 0 10px 0; font-size: 16px; }
    label { display: block; font-size: 13px; margin-bottom: 6px; color: #222; }
    input, select { width: 100%; padding: 9px 10px; border: 1px solid var(--b); border-radius: 8px; font-size: 14px; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--gap); }
    @media (max-width: 860px) { .row { grid-template-columns: 1fr; } }
    .hint { font-size: 12px; color: #444; margin-top: 6px; line-height: 1.35; }
    .note { font-size: 12px; color: #333; background: #fff7d6; border: 1px solid #f1d77a; padding: 10px; border-radius: 10px; }
    .result { font-size: 14px; line-height: 1.5; }
    .result b { font-weight: 700; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .btns { display: flex; gap: var(--gap); flex-wrap: wrap; margin-top: 10px; }
    button { padding: 10px 12px; border: 1px solid var(--b); border-radius: 10px; background: var(--bg); cursor: pointer; font-size: 14px; }
    button:hover { filter: brightness(0.98); }
    details { margin-top: 10px; }
    summary { cursor: pointer; }
    table { width: 100%; border-collapse: collapse; font-size: 13px; }
    th, td { border: 1px solid var(--b); padding: 8px; text-align: left; vertical-align: top; }
    th { background: var(--bg); }
  </style>
</head>
<body>
<header>
  <div style="max-width:980px;margin:0 auto;">
    <div style="font-weight:700;">Calculator impozit pe clădire (persoană fizică) – România (setări 2026)</div>
    <div style="font-size:12px;color:#333;margin-top:4px;">
      Motor de calcul: valori impozabile pe m² (A–D, E/F), coeficient zonă + rang, cotă locală, bonificație.
    </div>
  </div>
</header>

<main>
  <div class="note">
    Acest calculator estimează impozitul anual pe clădire pentru <b>persoane fizice</b>, pe baza datelor introduse.
    <b>Cota (%) este stabilită prin hotărâre a consiliului local</b>, deci trebuie completată/confirmată pentru fiecare UAT și an.
  </div>

  <div class="grid" style="margin-top: 14px;">
    <section class="card">
      <h2>1) Date despre clădire</h2>

      <div class="row">
        <div>
          <label for="suprafata">Suprafața construită desfășurată (m²)</label>
          <input id="suprafata" type="number" min="0" step="0.01" value="50" />
          <div class="hint">Introduce suprafața construită desfășurată (nu “utilă”), așa cum apare în evidențele fiscale/acte.</div>
        </div>

        <div>
          <label for="cotaParte">Cota-parte de proprietate (ex.: 1 pentru 100%, 0.5 pentru 50%)</label>
          <input id="cotaParte" type="number" min="0" step="0.01" value="1" />
        </div>
      </div>

      <div class="row" style="margin-top: var(--gap);">
        <div>
          <label for="tip">Tip clădire (tabel A–D)</label>
          <select id="tip">
            <option value="A" selected>A – beton armat / cărămidă arsă / materiale tratate termic/chimic</option>
            <option value="B">B – lemn / piatră / cărămidă nearsă / materiale netratate</option>
            <option value="C">C – anexă (beton/cărămidă arsă/materiale tratate)</option>
            <option value="D">D – anexă (lemn/piatră/cărămidă nearsă/materiale netratate)</option>
          </select>
        </div>

        <div>
          <label for="utilitati">Utilități (condiții cumulative)</label>
          <select id="utilitati">
            <option value="DA" selected>Cu apă + canalizare + electric + încălzire</option>
            <option value="NU">Fără (lipsește cel puțin una)</option>
          </select>
        </div>
      </div>

      <div class="row" style="margin-top: var(--gap);">
        <div>
          <label for="subsolRegim">Regim E/F (subsol/demisol/mansardă la aceeași adresă)</label>
          <select id="subsolRegim">
            <option value="NONE" selected>Nu se aplică (calcul standard)</option>
            <option value="E">E – utilizate ca locuință (75% din suma aplicabilă clădirii)</option>
            <option value="F">F – utilizate în alte scopuri (50% din suma aplicabilă clădirii)</option>
          </select>
          <div class="hint">Opțiuni din tabelul E/F pentru 2026 (dacă se încadrează cazul tău).</div>
        </div>

        <div>
          <label for="blocReducere">
            Reducere coeficient pentru apartament în bloc (&gt;3 niveluri și &gt;8 apartamente)
          </label>
          <select id="blocReducere">
            <option value="NU" selected>Nu / nu știu</option>
            <option value="DA">Da (se scade 0,10 din coeficient)</option>
          </select>
          <div class="hint">Regulă specifică pentru apartamente (scădere 0,10 din coeficientul de corecție).</div>
        </div>
      </div>

      <details>
        <summary><b>Vezi tabelul 2026 (valori impozabile lei/m²)</b></summary>
        <div style="margin-top:10px;">
          <table>
            <thead>
              <tr>
                <th>Tip</th>
                <th>Cu utilități (lei/m²)</th>
                <th>Fără utilități (lei/m²)</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>A</td><td class="mono">2677</td><td class="mono">1606</td></tr>
              <tr><td>B</td><td class="mono">803</td><td class="mono">535</td></tr>
              <tr><td>C</td><td class="mono">535</td><td class="mono">469</td></tr>
              <tr><td>D</td><td class="mono">335</td><td class="mono">201</td></tr>
              <tr><td>E</td><td colspan="2">75% din suma aplicabilă clădirii (A–D)</td></tr>
              <tr><td>F</td><td colspan="2">50% din suma aplicabilă clădirii (A–D)</td></tr>
            </tbody>
          </table>
        </div>
      </details>
    </section>

    <section class="card">
      <h2>2) Date localitate (coeficient + cotă)</h2>

      <div class="row">
        <div>
          <label for="rang">Rang localitate</label>
          <select id="rang">
            <option value="0">Rang 0 (București)</option>
            <option value="I">Rang I</option>
            <option value="II" selected>Rang II (majoritatea municipiilor)</option>
            <option value="III">Rang III</option>
            <option value="IV">Rang IV</option>
            <option value="V">Rang V</option>
          </select>
        </div>
        <div>
          <label for="zona">Zona în cadrul localității</label>
          <select id="zona">
            <option value="A" selected>Zona A</option>
            <option value="B">Zona B</option>
            <option value="C">Zona C</option>
            <option value="D">Zona D</option>
          </select>
          <div class="hint">Zona este cea folosită de UAT (apare, de regulă, în decizia de impunere / nomenclatorul zonal).</div>
        </div>
      </div>

      <div class="row" style="margin-top: var(--gap);">
        <div>
          <label for="cotaProc">Cota de impozit locală (%) – clădire rezidențială PF</label>
          <input id="cotaProc" type="number" min="0" step="0.001" value="0.1" />
          <div class="hint">Exemplu: 0,1 înseamnă 0,1% (adică 0,001 ca fracție). Trebuie confirmată în HCL-ul UAT pentru anul fiscal.</div>
        </div>
        <div>
          <label for="bonificatieProc">Bonificație la plată integrală până la 31 martie (%)</label>
          <input id="bonificatieProc" type="number" min="0" max="50" step="0.1" value="10" />
          <div class="hint">Multe UAT-uri acordă 10%, dar nu este universal; se stabilește local.</div>
        </div>
      </div>

      <details>
        <summary><b>Vezi coeficienții (zonă + rang)</b></summary>
        <div style="margin-top:10px;">
          <table>
            <thead>
              <tr>
                <th>Zonă</th>
                <th>Rang 0</th><th>Rang I</th><th>Rang II</th><th>Rang III</th><th>Rang IV</th><th>Rang V</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>A</td><td class="mono">2.60</td><td class="mono">2.50</td><td class="mono">2.40</td><td class="mono">2.30</td><td class="mono">1.10</td><td class="mono">1.05</td></tr>
              <tr><td>B</td><td class="mono">2.50</td><td class="mono">2.40</td><td class="mono">2.30</td><td class="mono">2.20</td><td class="mono">1.05</td><td class="mono">1.00</td></tr>
              <tr><td>C</td><td class="mono">2.40</td><td class="mono">2.30</td><td class="mono">2.20</td><td class="mono">2.10</td><td class="mono">1.00</td><td class="mono">0.95</td></tr>
              <tr><td>D</td><td class="mono">2.30</td><td class="mono">2.20</td><td class="mono">2.10</td><td class="mono">2.00</td><td class="mono">0.95</td><td class="mono">0.90</td></tr>
            </tbody>
          </table>
        </div>
      </details>

      <div class="btns">
        <button id="calcBtn" type="button">Calculează</button>
        <button id="resetBtn" type="button">Reset</button>
      </div>
    </section>
  </div>

  <section class="card" style="margin-top: var(--gap);">
    <h2>3) Rezultat</h2>
    <div id="out" class="result">Apasă <b>Calculează</b>.</div>
  </section>
</main>

<script>
  // Valori impozabile 2026 (lei/m²), tabel A–D + reduceri E/F.
  // Sursă: tabelul 2026 citat în documente de UAT (conform Legii 239/2025) – vezi exemplu PDF. (în afara acestui fișier)
  const baseLeiPerMp = {
    A: { DA: 2677, NU: 1606 },
    B: { DA: 803,  NU: 535  },
    C: { DA: 535,  NU: 469  },
    D: { DA: 335,  NU: 201  }
  };

  // Coeficienți zonă + rang (art. 457 alin. (6) – tabel coeficienți)
  const coef = {
    A: { "0": 2.60, "I": 2.50, "II": 2.40, "III": 2.30, "IV": 1.10, "V": 1.05 },
    B: { "0": 2.50, "I": 2.40, "II": 2.30, "III": 2.20, "IV": 1.05, "V": 1.00 },
    C: { "0": 2.40, "I": 2.30, "II": 2.20, "III": 2.10, "IV": 1.00, "V": 0.95 },
    D: { "0": 2.30, "I": 2.20, "II": 2.10, "III": 2.00, "IV": 0.95, "V": 0.90 }
  };

  function num(id) {
    const v = document.getElementById(id).value;
    const n = Number(String(v).replace(",", "."));
    return Number.isFinite(n) ? n : NaN;
  }

  function fmtLei(x) {
    return new Intl.NumberFormat("ro-RO", { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(x) + " lei";
  }

  function fmtPct(x) {
    return new Intl.NumberFormat("ro-RO", { minimumFractionDigits: 3, maximumFractionDigits: 3 }).format(x) + "%";
  }

  function calc() {
    const suprafata = num("suprafata");
    const cotaParte = num("cotaParte");
    const tip = document.getElementById("tip").value;
    const utilitati = document.getElementById("utilitati").value; // DA/NU
    const subsolRegim = document.getElementById("subsolRegim").value; // NONE/E/F

    const rang = document.getElementById("rang").value; // 0/I/II/...
    const zona = document.getElementById("zona").value; // A/B/C/D

    const blocReducere = document.getElementById("blocReducere").value; // DA/NU

    const cotaProc = num("cotaProc"); // ex 0.1
    const bonifProc = num("bonificatieProc"); // ex 10

    const errs = [];
    if (!(suprafata > 0)) errs.push("Suprafața trebuie să fie > 0.");
    if (!(cotaParte > 0 && cotaParte <= 1.0)) errs.push("Cota-parte trebuie să fie > 0 și ≤ 1 (ex.: 1, 0.5).");
    if (!(cotaProc >= 0)) errs.push("Cota (%) trebuie să fie ≥ 0.");
    if (!(bonifProc >= 0 && bonifProc <= 50)) errs.push("Bonificația (%) trebuie să fie între 0 și 50.");

    if (errs.length) {
      document.getElementById("out").innerHTML = "<b>Erori:</b><ul><li>" + errs.join("</li><li>") + "</li></ul>";
      return;
    }

    const baza = baseLeiPerMp[tip][utilitati]; // lei/m²
    let coefCorectie = coef[zona][rang];

    // Art. 457 alin. (7): apartament în bloc cu >3 niveluri și >8 apartamente => coeficient - 0.10
    if (blocReducere === "DA") coefCorectie = Math.max(0, coefCorectie - 0.10);

    // Reduceri E/F: 75% sau 50% din suma aplicabilă clădirii
    let factorEF = 1.0;
    if (subsolRegim === "E") factorEF = 0.75;
    if (subsolRegim === "F") factorEF = 0.50;

    const valoareImpozabilaBrut = suprafata * baza * coefCorectie * factorEF;
    const valoareImpozabila = valoareImpozabilaBrut * cotaParte;

    const cotaFractie = cotaProc / 100.0;
    const impozitAnual = valoareImpozabila * cotaFractie;

    const bonifFractie = bonifProc / 100.0;
    const impozitCuBonif = impozitAnual * (1 - bonifFractie);

    const exp = [];
    exp.push(`<div><b>Valoare impozabilă pe m² (2026):</b> <span class="mono">${baza}</span> lei/m² (tip ${tip}, utilități: ${utilitati})</div>`);
    exp.push(`<div><b>Coeficient corecție:</b> zona ${zona}, rang ${rang} → <span class="mono">${coef[zona][rang].toFixed(2)}</span>${blocReducere==="DA" ? `, minus 0,10 (bloc) → <span class="mono">${coefCorectie.toFixed(2)}</span>` : ""}</div>`);
    exp.push(`<div><b>Factor E/F:</b> <span class="mono">${factorEF.toFixed(2)}</span> ${subsolRegim==="NONE" ? "(standard)" : (subsolRegim==="E" ? "(E – 75%)" : "(F – 50%)")}</div>`);
    exp.push(`<div><b>Valoare impozabilă (brut):</b> ${fmtLei(valoareImpozabilaBrut)}</div>`);
    exp.push(`<div><b>Cota-parte:</b> <span class="mono">${cotaParte}</span> → <b>Valoare impozabilă (după cotă-parte):</b> ${fmtLei(valoareImpozabila)}</div>`);
    exp.push(`<hr style="border:0;border-top:1px solid #d0d7de;margin:10px 0;">`);
    exp.push(`<div><b>Cotă locală:</b> ${fmtPct(cotaProc)} → <b>Impozit anual estimat:</b> ${fmtLei(impozitAnual)}</div>`);
    exp.push(`<div><b>Bonificație:</b> ${fmtPct(bonifProc)} → <b>De plată dacă achiți integral până la 31 martie:</b> ${fmtLei(impozitCuBonif)}</div>`);
    exp.push(`<div class="hint" style="margin-top:10px;">
      Observații: (1) Cota (%) și bonificația sunt stabilite prin HCL (local). (2) Zona A–D depinde de încadrarea UAT. (3) Calculatorul nu include eventuale majorări speciale (ex. clădire neîngrijită) sau scutiri individuale.
    </div>`);

    document.getElementById("out").innerHTML = exp.join("");
  }

  function resetAll() {
    document.getElementById("suprafata").value = 50;
    document.getElementById("cotaParte").value = 1;
    document.getElementById("tip").value = "A";
    document.getElementById("utilitati").value = "DA";
    document.getElementById("subsolRegim").value = "NONE";
    document.getElementById("blocReducere").value = "NU";
    document.getElementById("rang").value = "II";
    document.getElementById("zona").value = "A";
    document.getElementById("cotaProc").value = 0.1;
    document.getElementById("bonificatieProc").value = 10;
    document.getElementById("out").textContent = "Apasă Calculează.";
  }

  document.getElementById("calcBtn").addEventListener("click", calc);
  document.getElementById("resetBtn").addEventListener("click", resetAll);
</script>
</body>
</html>
