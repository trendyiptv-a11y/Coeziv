<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mega-ciclul coeziv BTC – Model Coeziv</title>

  <style>
    :root {
      --bg: #020617;
      --bg-elevated: #020617;
      --bg-soft: #0b1020;
      --accent: #3b82f6;
      --accent-soft: rgba(59, 130, 246, 0.16);
      --accent-strong: #60a5fa;
      --up: #22c55e;
      --up-soft: rgba(34, 197, 94, 0.16);
      --down: #ef4444;
      --down-soft: rgba(239, 68, 68, 0.16);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
      --radius-xl: 1.75rem;
      --radius-lg: 1.1rem;
      --radius-pill: 999px;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.55);
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: var(--font-main);
      background: radial-gradient(circle at top, #020617, #020617 35%, #020617);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    main.page {
      max-width: 1080px;
      margin: 0 auto;
      padding: 1.75rem 1.2rem 2.75rem;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* Header / hero */

    .top-back {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.8rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: rgba(15, 23, 42, 0.9);
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 1.1rem;
    }

    .top-back span.icon {
      display: inline-flex;
      width: 0.55rem;
      height: 0.55rem;
      border-radius: 999px;
      background: var(--accent);
    }

    header.hero {
      margin-bottom: 1.75rem;
    }

    header.hero h1 {
      margin: 0 0 0.6rem;
      font-size: 1.65rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #f9fafb;
    }

    header.hero p {
      margin: 0;
      font-size: 0.92rem;
      color: var(--muted);
      max-width: 48rem;
      line-height: 1.6;
    }

    .hero-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
      margin-top: 0.85rem;
    }

    .hero-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.32rem 0.85rem;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 0.78rem;
      color: var(--muted);
      background: rgba(15, 23, 42, 0.9);
    }

    .hero-pill-dot {
      width: 0.45rem;
      height: 0.45rem;
      border-radius: 999px;
      background: var(--accent);
    }

    .hero-pill-dot.struct { background: var(--accent); }
    .hero-pill-dot.flux { background: var(--up); }
    .hero-pill-dot.cycle { background: #a855f7; }

    /* MEGA-CYCLE SECTION (carduri + rezumat) */

    .mega-cycle-section {
      margin-top: 2.3rem;
      padding: 1.5rem 1.25rem 2rem;
      border-radius: var(--radius-xl);
      background: radial-gradient(circle at top, rgba(15,23,42,0.65), #020617 60%);
      border: 1px solid rgba(148,163,184,0.25);
      box-shadow: var(--shadow-soft);
    }

    .mega-cycle-header h2 {
      margin: 0 0 0.4rem;
      font-size: 1.35rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .mega-cycle-header p {
      margin: 0;
      font-size: 0.9rem;
      color: #9ca3af;
      max-width: 48rem;
      line-height: 1.5;
    }

    .mega-cycle-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    @media (max-width: 960px) {
      .mega-cycle-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .mega-card {
      border-radius: 1.5rem;
      background: radial-gradient(circle at top left, rgba(15,23,42,0.75), #020617);
      border: 1px solid rgba(31,41,55,0.9);
      padding: 1rem 1rem 1.1rem;
      box-shadow: 0 18px 45px rgba(0,0,0,0.55);
    }

    .mega-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.4rem;
      margin-bottom: 0.6rem;
    }

    .mega-pill {
      display: inline-flex;
      align-items: center;
      padding: 0.22rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.45);
      font-size: 0.78rem;
      color: #e5e7eb;
      background: rgba(15,23,42,0.9);
      white-space: nowrap;
    }

    .mega-pill-main {
      font-weight: 500;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .mega-card-body {
      margin-top: 0.25rem;
    }

    .mega-value-row {
      display: flex;
      align-items: baseline;
      gap: 0.25rem;
      margin-bottom: 0.25rem;
    }

    .mega-main-value {
      font-size: 2rem;
      font-weight: 650;
      color: #f9fafb;
    }

    .mega-unit {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-left: 0.1rem;
    }

    .mega-subtitle {
      margin: 0.15rem 0 0.35rem;
      font-size: 0.82rem;
      color: #9ca3af;
    }

    .mega-text {
      margin: 0;
      font-size: 0.83rem;
      color: #d1d5db;
      line-height: 1.6;
    }

    .mega-summary {
      margin-top: 1.6rem;
      padding: 1.1rem 1.0rem 1.2rem;
      border-radius: 1.5rem;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
    }

    .mega-summary h3 {
      margin: 0 0 0.45rem;
      font-size: 0.98rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .mega-summary p {
      margin: 0;
      font-size: 0.86rem;
      color: #d1d5db;
      line-height: 1.6;
    }

    .mega-summary .mega-note {
      margin-top: 0.4rem;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    /* MINI TIMELINE */

    .mega-timeline {
      margin-top: 2rem;
      padding: 1.3rem 1.1rem 1.4rem;
      border-radius: 1.5rem;
      background: radial-gradient(circle at top, rgba(15,23,42,0.55), #020617);
      border: 1px solid rgba(55,65,81,0.9);
    }

    .mega-timeline h3 {
      margin: 0 0 0.6rem;
      font-size: 0.96rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .mega-timeline p.lead {
      margin: 0 0 0.7rem;
      font-size: 0.84rem;
      color: #9ca3af;
      max-width: 44rem;
      line-height: 1.5;
    }

    .mega-timeline-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.9rem;
    }

    @media (max-width: 900px) {
      .mega-timeline-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .timeline-step {
      border-radius: 1.3rem;
      padding: 0.8rem 0.85rem 0.9rem;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
      position: relative;
      overflow: hidden;
    }

    .timeline-step::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top left, rgba(59,130,246,0.14), transparent 60%);
      opacity: 0.9;
      pointer-events: none;
    }

    .timeline-inner {
      position: relative;
      z-index: 1;
    }

    .timeline-era {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #9ca3af;
      margin-bottom: 0.2rem;
    }

    .timeline-title {
      font-size: 0.9rem;
      margin: 0 0 0.25rem;
      color: #e5e7eb;
    }

    .timeline-tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-bottom: 0.35rem;
    }

    .timeline-tag {
      font-size: 0.7rem;
      padding: 0.18rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.45);
      background: rgba(15,23,42,0.9);
      color: #cbd5f5;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .timeline-text {
      margin: 0;
      font-size: 0.8rem;
      color: #d1d5db;
      line-height: 1.55;
    }

    .timeline-tag.baza { border-color: rgba(34,197,94,0.6); }
    .timeline-tag.bull { border-color: rgba(56,189,248,0.7); }
    .timeline-tag.bear { border-color: rgba(248,113,113,0.7); }
    .timeline-tag.reset { border-color: rgba(251,191,36,0.7); }
    .timeline-tag.curent { border-color: rgba(129,140,248,0.9); }

    footer.page-foot {
      margin-top: 2.4rem;
      font-size: 0.78rem;
      color: #6b7280;
      text-align: left;
      line-height: 1.6;
    }

    footer.page-foot a {
      color: #93c5fd;
      text-decoration: underline;
      text-decoration-thickness: 1px;
    }
  </style>
</head>
<body>
  <main class="page">
    <a href="ic_btc.html" class="top-back">
      <span class="icon"></span>
      <span>Înapoi la indicele IC_BTC</span>
    </a>

    <header class="hero">
      <h1>Mega-ciclul coeziv BTC</h1>
      <p>
        Privire macro asupra pieței Bitcoin din 2010 până azi, în Modelul Coeziv.
        Pagina îți arată <strong>unde ne aflăm acum</strong> în mega-ciclul structural,
        bazat pe indicii <strong>IC_BTC</strong> (structural), <strong>ICD_BTC</strong>
        (direcțional), <strong>ICF_BTC</strong> (flux) și <strong>ICC_BTC</strong> (ciclu).
      </p>

      <div class="hero-pills">
        <div class="hero-pill">
          <span class="hero-pill-dot struct"></span>
          <span>Structură &amp; sănătate piață (IC_BTC, ICD_BTC)</span>
        </div>
        <div class="hero-pill">
          <span class="hero-pill-dot flux"></span>
          <span>Flux &amp; stres de sistem (ICF_BTC)</span>
        </div>
        <div class="hero-pill">
          <span class="hero-pill-dot cycle"></span>
          <span>Poziționare în mega-ciclu (ICC_BTC)</span>
        </div>
      </div>
    </header>

    <!-- MEGA-CYCLE SNAPSHOT -->

    <section class="mega-cycle-section">
      <header class="mega-cycle-header">
        <h2>Snapshot mega-ciclu – Model Coeziv</h2>
        <p>
          Cardurile de mai jos folosesc valorile cele mai recente din
          <code>data/ic_btc_series.json</code>, generate automat de
          pipeline-ul Coeziv Bitcoin. Interpretarea este structurală,
          nu recomandare de tranzacționare.
        </p>
      </header>

      <div class="mega-cycle-grid">
        <!-- CARD 1 – ICC_BTC CICLU -->
        <article class="mega-card">
          <div class="mega-card-header">
            <span class="mega-pill mega-pill-main">ICC_BTC ciclu (0–100)</span>
            <span class="mega-pill" id="iccCyclePhaseLabel">fază intermediară</span>
          </div>
          <div class="mega-card-body">
            <div class="mega-value-row">
              <div class="mega-main-value">
                <span id="iccCycleValue">–</span><span class="mega-unit">/100</span>
              </div>
            </div>
            <p class="mega-subtitle">
              Poziționare în mega-ciclu: faze de bază, expansiune, distribuție, reset.
            </p>
            <p class="mega-text" id="iccCycleText">
              Se încarcă interpretarea fazei de ciclu...
            </p>
          </div>
        </article>

        <!-- CARD 2 – IC_BTC STRUCTURAL -->
        <article class="mega-card">
          <div class="mega-card-header">
            <span class="mega-pill mega-pill-main">IC_BTC structural (0–100)</span>
            <span class="mega-pill" id="icStructLabel">–</span>
          </div>
          <div class="mega-card-body">
            <div class="mega-value-row">
              <div class="mega-main-value">
                <span id="icStructValue">–</span><span class="mega-unit">/100</span>
              </div>
            </div>
            <p class="mega-subtitle">
              Regim structural (trend vs flux total, volatilitate relativă).
            </p>
            <p class="mega-text" id="icStructText">
              Se încarcă interpretarea regimului structural...
            </p>
          </div>
        </article>

        <!-- CARD 3 – ICF_BTC FLUX -->
        <article class="mega-card">
          <div class="mega-card-header">
            <span class="mega-pill mega-pill-main">ICF_BTC flux (0–100)</span>
            <span class="mega-pill" id="fluxLabel">–</span>
          </div>
          <div class="mega-card-body">
            <div class="mega-value-row">
              <div class="mega-main-value">
                <span id="fluxValue">–</span><span class="mega-unit">/100</span>
              </div>
            </div>
            <p class="mega-subtitle">
              Flux &amp; tensiune: cât de stresată sau calmă e piața.
            </p>
            <p class="mega-text" id="fluxText">
              Se încarcă interpretarea fluxului...
            </p>
          </div>
        </article>
      </div>

      <!-- REZUMAT SCURT -->
      <section class="mega-summary">
        <h3>Unde suntem acum în mega-ciclu?</h3>
        <p id="megaSummaryMain">
          Se calculează poziționarea curentă a pieței în mega-ciclu...
        </p>
        <p class="mega-note">
          <strong>Notă:</strong> Mega-ciclul este o privire structurală pe termen
          foarte lung (ani), nu un semnal de timing pe termen scurt. Folosește
          informația împreună cu propriul management de risc.
        </p>
      </section>
    </section>

    <!-- MINI TIMELINE ISTORIC COEZIV -->

    <section class="mega-timeline">
      <h3>Timeline mega-ciclu (interpretare Coeziv, 2010–2025)</h3>
      <p class="lead">
        Mai jos este un rezumat conceptual, aliniat cu ciclurile clasice BTC,
        dar exprimat în limbajul Modelului Coeziv (bază, expansiune, top,
        resetare). Nu sunt maxime/minime de preț, ci faze structurale.
      </p>

      <div class="mega-timeline-grid">
        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2010–2013</div>
            <h4 class="timeline-title">Baze timpurii &amp; adopție incipientă</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag baza">bază</span>
            </div>
            <p class="timeline-text">
              Structură de piață imatură, lichiditate redusă și volatilitate
              extremă. În limbaj Coeziv, aceasta este zona de <strong>bază
              istorică</strong> a mega-ciclului, în care ICC_BTC ar marca
              începutul arcului structural post-Genesis.
            </p>
          </div>
        </article>

        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2014–2017</div>
            <h4 class="timeline-title">Bază post-2014 &amp; expansiune majoră</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag baza">bază</span>
              <span class="timeline-tag bull">expansiune</span>
            </div>
            <p class="timeline-text">
              După corecția severă 2014–2015, structura IC_BTC intră într-o
              <strong>bază coezivă</strong>, urmată de un ciclu de expansiune
              puternică până în topul 2017. ICC_BTC mută mega-ciclul din zona
              de bază în zona de <strong>expansiune avansată</strong>.
            </p>
          </div>
        </article>

        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2018–2019</div>
            <h4 class="timeline-title">Resetare &amp; realiniere structurală</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag bear">bear</span>
              <span class="timeline-tag reset">reset</span>
            </div>
            <p class="timeline-text">
              Bear marketul de după 2017 aduce o <strong>răcire severă</strong>
              în IC_BTC și episoade de stres în ICF_BTC. Din perspectiva
              mega-ciclului, perioada este o <strong>resetare de trend</strong>,
              nu începutul unui nou mega-ciclu.
            </p>
          </div>
        </article>

        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2020–2021</div>
            <h4 class="timeline-title">Expansiune parabolică &amp; top structural</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag bull">bull</span>
              <span class="timeline-tag reset">top structural</span>
            </div>
            <p class="timeline-text">
              Combinația dintre IC_BTC foarte ridicat, ICD_BTC bullish și
              episoade de stres în ICF_BTC corespunde unei faze de
              <strong>expansiune parabolică</strong> a mega-ciclului, în care
              ICC_BTC se apropie de zona de top (valori înalte, 70–90+).
            </p>
          </div>
        </article>

        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2022–2023</div>
            <h4 class="timeline-title">Resetare post-euforie &amp; reconstrucție</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag bear">bear</span>
              <span class="timeline-tag reset">reechilibrare</span>
            </div>
            <p class="timeline-text">
              Corecția amplă de după 2021 este văzută de Modelul Coeziv ca o
              fază de <strong>reechilibrare structurală</strong>: IC_BTC se
              răcește, ICF_BTC marchează episoade de stres, iar ICC_BTC coboară
              din zona de top spre o <strong>fază intermediară</strong>.
            </p>
          </div>
        </article>

        <article class="timeline-step">
          <div class="timeline-inner">
            <div class="timeline-era">2024–2025+</div>
            <h4 class="timeline-title">Faza curentă: bull târziu / intermediar</h4>
            <div class="timeline-tag-row">
              <span class="timeline-tag curent">stare curentă</span>
            </div>
            <p class="timeline-text">
              Valorile curente din ICC_BTC indică, în mare, o
              <strong>fază intermediară</strong> a mega-ciclului post-2014:
              nu la bază, dar nici la maximul istoric al topurilor. Structura
              este în răcire, iar fluxul rămâne sensibil, ceea ce sugerează că
              următorii ani pot fi o combinație de redistribuție,
              consolidare și, mai târziu, construcția bazei următorului ciclu.
            </p>
          </div>
        </article>
      </div>
    </section>

    <footer class="page-foot">
      Modelul Coeziv BTC este un framework experimental de citire structurală a pieței,
      nu o recomandare de investiții. Pentru detaliile tehnice și codul sursă,
      consultă repository-ul GitHub &amp; documentația internă a indicilor.
    </footer>
  </main>

  <script>
    async function fetchJsonSafe(url) {
      const res = await fetch(url);
      if (!res.ok) throw new Error("Nu pot încărca " + url + " (" + res.status + ")");
      return res.json();
    }

    function classifyIccCycle(v) {
      if (v == null || !Number.isFinite(v)) return {
        label: "fază necunoscută",
        text: "Nu am putut determina faza de mega-ciclu din datele curente."
      };

      if (v < 20) {
        return {
          label: "bază profundă",
          text: "Zona tipică pentru baze profunde de mega-ciclu – acumulare, reset structural și sentiment extrem de pesimist."
        };
      } else if (v < 40) {
        return {
          label: "început de ciclu",
          text: "Fază timpurie de ciclu – structură încă fragilă, dar cu potențial mare de apreciere pe termen lung."
        };
      } else if (v < 60) {
        return {
          label: "fază intermediară",
          text: "Suntem într-o fază intermediară a mega-ciclului: între expansiune și început de distribuție. Istoric, astfel de valori apar adesea după un top mare, dar înaintea capitulărilor finale."
        };
      } else if (v < 80) {
        return {
          label: "avansat / încălzire",
          text: "Fază avansată de ciclu – structură încă puternică, dar cu risc crescut de redistribuție și topuri locale."
        };
      } else {
        return {
          label: "zonă de top",
          text: "Zona asociată cu topuri majore de mega-ciclu – entuziasm maxim, risc ridicat de inversare structurală."
        };
      }
    }

    function classifyIcStruct(v) {
      if (v == null || !Number.isFinite(v)) return {
        label: "necunoscut",
        text: "Nu am putut determina structura trendului pe termen lung."
      };

      if (v < 25) {
        return {
          label: "foarte slabă",
          text: "Structură foarte slabă – tipic pentru începuturi de baze profunde de ciclu sau faze de dezagregare a trendului."
        };
      } else if (v < 40) {
        return {
          label: "în răcire",
          text: "Structură în răcire – trendul de fond pierde coeziune, semnalând o tranziție posibilă de ciclu."
        };
      } else if (v < 60) {
        return {
          label: "mediu",
          text: "Regim structural mediu – nici bull clar, nici bear clar, cu rotații frecvente între sub-regimuri."
        };
      } else if (v < 80) {
        return {
          label: "puternic",
          text: "Structură puternică – trend coerent, cu direcție dominantă clară și volatilitate relativ sănătoasă."
        };
      } else {
        return {
          label: "extrem",
          text: "Structură extrem de concentrată – zone ce pot preceda fie blow-off top, fie capitulare violentă, în funcție de direcție."
        };
      }
    }

    function classifyFlux(v) {
      if (v == null || !Number.isFinite(v)) return {
        label: "necunoscut",
        text: "Nu am putut determina nivelul de stres al fluxului."
      };

      if (v < 25) {
        return {
          label: "calm",
          text: "Volatilitate relativ scăzută și flux calm – tipic pentru perioade de consolidare sau acumulare discretă."
        };
      } else if (v < 50) {
        return {
          label: "flux mixt",
          text: "Stare mixtă a fluxului – alternanță între perioade calme și episoade de stres moderat."
        };
      } else if (v < 75) {
        return {
          label: "stres ridicat",
          text: "Flux tensionat – piața devine sensibilă la șocuri, cu mișcări bruște și risc crescut de episoade de panică."
        };
      } else {
        return {
          label: "stres sistemic",
          text: "Nivel ridicat de stres sistemic – istoric, astfel de valori au apărut înaintea resetărilor mari de mega-ciclu sau a capitulărilor majore."
        };
      }
    }

    function buildMegaSummary(icc, icStruct, flux) {
      if (![icc, icStruct, flux].every(x => Number.isFinite(x))) {
        return "Modelul Coeziv sugerează o fază intermediară a mega-ciclului, dar datele actuale sunt parțial incomplete.";
      }

      let progressText;
      if (icc < 20) progressText = "Suntem probabil în primele ~10–20% dintr-un nou mega-ciclu.";
      else if (icc < 40) progressText = "Suntem aproximativ la 30–40% din parcursul mega-ciclului curent.";
      else if (icc < 60) progressText = "Modelul plasează piața la aproximativ 70–80% din mega-ciclul actual – fază intermediară, după un top important, dar încă departe de capitulare finală.";
      else if (icc < 80) progressText = "Suntem într-o fază avansată a mega-ciclului, aproape de zona istorică a topurilor majore.";
      else progressText = "Ne aflăm într-o zonă asociată istoric cu topuri majore de mega-ciclu (90–100% din parcurs).";

      const structPart =
        icStruct < 40
          ? "Structura în răcire indică pierderea coeziunii trendului de fond și crește probabilitatea unei faze de consolidare profunde."
          : icStruct < 60
          ? "Structura medie sugerează o piață rotațională, fără un trend dominant foarte clar."
          : "Structura puternică indică un trend dominant încă robust, dar sensibil la șocuri macro.";

      const fluxPart =
        flux >= 50
          ? "Nivelul ridicat de stres în flux întărește scenariul în care următorii ani pot aduce o fază importantă de resetare / realiniere de ciclu."
          : "Fluxul relativ calm sugerează că resetarea de ciclu se poate construi mai lent, prin consolidare, nu doar prin șocuri violente.";

      return progressText + " " + structPart + " " + fluxPart;
    }

    async function initMegaCycleSection() {
      try {
        const series = await fetchJsonSafe("/data/ic_btc_series.json");
        if (!Array.isArray(series) || series.length === 0) {
          throw new Error("ic_btc_series.json este gol sau invalid.");
        }
        const last = series[series.length - 1];

        const icStruct = Number(last.ic_struct ?? last.ic ?? NaN);
        const icd = Number(last.icd ?? last.ic_dir ?? NaN); // momentan nu-l afișăm, dar îl păstrăm
        const icf = Number(last.icf ?? last.ic_flux ?? NaN);
        const icc = Number(last.icc ?? last.ic_cycle ?? last.icc_btc ?? NaN);

        // ICC_BTC ciclu
        const iccCl = classifyIccCycle(icc);
        document.getElementById("iccCycleValue").textContent = Number.isFinite(icc)
          ? icc.toFixed(2)
          : "–";
        document.getElementById("iccCyclePhaseLabel").textContent = iccCl.label;
        document.getElementById("iccCycleText").textContent = iccCl.text;

        // IC_BTC structural
        const structCl = classifyIcStruct(icStruct);
        document.getElementById("icStructValue").textContent = Number.isFinite(icStruct)
          ? icStruct.toFixed(2)
          : "–";
        document.getElementById("icStructLabel").textContent = structCl.label;
        document.getElementById("icStructText").textContent = structCl.text;

        // ICF_BTC flux
        const fluxCl = classifyFlux(icf);
        document.getElementById("fluxValue").textContent = Number.isFinite(icf)
          ? icf.toFixed(2)
          : "–";
        document.getElementById("fluxLabel").textContent = fluxCl.label;
        document.getElementById("fluxText").textContent = fluxCl.text;

        // Rezumat mare
        document.getElementById("megaSummaryMain").textContent =
          buildMegaSummary(icc, icStruct, icf);
      } catch (err) {
        console.error("[Mega-cycle]", err);
        const el = document.getElementById("megaSummaryMain");
        if (el) {
          el.textContent =
            "Nu am putut încărca datele pentru mega-ciclu. Verifică fișierul data/ic_btc_series.json sau pipeline-ul Coeziv.";
        }
      }
    }

    document.addEventListener("DOMContentLoaded", initMegaCycleSection);
  </script>
</body>
</html>
